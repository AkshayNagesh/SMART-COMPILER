{"openapi":"3.1.0","info":{"title":"Smart Compiler API","description":"\n    ## Advanced Code Optimization and Profiling Service\n    \n    The Smart Compiler API provides comprehensive code optimization and profiling capabilities \n    for C and Python programs. Submit your source code along with compilation/execution \n    parameters, and receive optimized code or detailed profiling information.\n    \n    ### Features\n    - **Code Optimization**: Compile and optimize C/Python code with various optimization levels\n    - **Performance Profiling**: Generate detailed performance reports and analysis\n    - **Multiple Architectures**: Support for x86, x64, ARM, and more\n    - **Flexible Input**: Accept source code directly or via URL\n    - **Asynchronous Processing**: Handle long-running tasks efficiently\n    - **Comprehensive Results**: Detailed output with metrics and artifacts\n    \n    ### Supported Languages\n    - C/C++ (GCC, Clang)\n    - Python (CPython, PyPy)\n    \n    ### Authentication\n    API requires Bearer token authentication for all endpoints.\n    ","contact":{"name":"Smart Compiler API Support","email":"miguel.torres@udel.ed"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"1.0.0"},"paths":{"/tasks":{"post":{"tags":["Tasks"],"summary":"Create a new compiler task","description":"Submit a new optimization or profiling task for processing","operationId":"create_task_tasks_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompilerTaskRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompilerTaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Status"],"summary":"List all tasks","description":"Retrieve a list of all tasks for the authenticated user","operationId":"list_tasks_tasks_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/TaskStatus"},{"type":"null"}],"title":"Status Filter"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskStatusResponse"},"title":"Response List Tasks Tasks Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/{task_id}":{"get":{"tags":["Status"],"summary":"Get task status","description":"Retrieve the current status and results of a specific task","operationId":"get_task_status_tasks__task_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Tasks"],"summary":"Cancel task","description":"Cancel a running or pending task","operationId":"cancel_task_tasks__task_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["Health"],"summary":"System health check","description":"Get system health and status information","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}}},"components":{"schemas":{"Architecture":{"type":"string","enum":["x86","x64","arm","arm64","mips"],"title":"Architecture","description":"Target architectures for compilation"},"CompilerOptions":{"properties":{"runtime":{"$ref":"#/components/schemas/RuntimeEnvironment","description":"Runtime environment for compilation/execution"},"architecture":{"$ref":"#/components/schemas/Architecture","description":"Target architecture for compilation","default":"x64"},"optimization_level":{"anyOf":[{"$ref":"#/components/schemas/OptimizationLevel"},{"type":"null"}],"description":"Optimization level (applicable for C/C++)","default":"O2"},"additional_flags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Additional Flags","description":"Additional compiler/runtime flags","default":[],"example":["-Wall","-Wextra","-std=c99"]},"timeout_seconds":{"anyOf":[{"type":"integer","maximum":3600.0,"minimum":1.0},{"type":"null"}],"title":"Timeout Seconds","description":"Maximum execution time in seconds (1-3600)","default":300},"memory_limit_mb":{"anyOf":[{"type":"integer","maximum":4096.0,"minimum":64.0},{"type":"null"}],"title":"Memory Limit Mb","description":"Memory limit in MB (64-4096)","default":512}},"type":"object","required":["runtime"],"title":"CompilerOptions","description":"Compiler and runtime options"},"CompilerTaskRequest":{"properties":{"task_type":{"$ref":"#/components/schemas/TaskType","description":"Type of task to perform"},"language":{"$ref":"#/components/schemas/Language","description":"Programming language of the source code"},"source":{"$ref":"#/components/schemas/SourceInput"},"options":{"$ref":"#/components/schemas/CompilerOptions","description":"Compilation and runtime options"},"result_destination":{"$ref":"#/components/schemas/ResultDestination","description":"Where to store the task results"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata for the task","default":{}}},"type":"object","required":["task_type","language","source","options","result_destination"],"title":"CompilerTaskRequest","description":"Complete compiler task request"},"CompilerTaskResponse":{"properties":{"task_id":{"type":"string","title":"Task Id","description":"Unique task identifier"},"status":{"$ref":"#/components/schemas/TaskStatus","description":"Current task status"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Task creation timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Last update timestamp"},"estimated_completion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Estimated Completion","description":"Estimated completion time"},"progress_percent":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Progress Percent","description":"Task progress percentage"},"result":{"anyOf":[{"$ref":"#/components/schemas/TaskResult"},{"type":"null"}],"description":"Task results (when completed)"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Error message if task failed"}},"type":"object","required":["task_id","status","created_at","updated_at"],"title":"CompilerTaskResponse","description":"Compiler task response"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Overall system status"},"version":{"type":"string","title":"Version","description":"API version"},"uptime_seconds":{"type":"integer","title":"Uptime Seconds","description":"System uptime in seconds"},"active_tasks":{"type":"integer","title":"Active Tasks","description":"Number of active tasks"},"system_resources":{"additionalProperties":true,"type":"object","title":"System Resources","description":"System resource usage"}},"type":"object","required":["status","version","uptime_seconds","active_tasks","system_resources"],"title":"HealthResponse","description":"System health response"},"Language":{"type":"string","enum":["c","cpp","python"],"title":"Language","description":"Supported programming languages"},"OptimizationLevel":{"type":"string","enum":["O0","O1","O2","O3","Os","Ofast"],"title":"OptimizationLevel","description":"GCC/Clang optimization levels"},"ResultDestination":{"properties":{"type":{"type":"string","pattern":"^(local|s3|url|inline)$","title":"Type","description":"Destination type"},"path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Path","description":"Local path or S3 key for result storage"},"url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Url","description":"URL endpoint to POST results to"},"inline":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Inline","description":"Return results inline in the response","default":false},"compression":{"anyOf":[{"type":"string","pattern":"^(gzip|zip|tar.gz)?$"},{"type":"null"}],"title":"Compression","description":"Compression format for results"}},"type":"object","required":["type"],"title":"ResultDestination","description":"Result output destination"},"RuntimeEnvironment":{"type":"string","enum":["gcc","clang","python3","pypy"],"title":"RuntimeEnvironment","description":"Runtime environments for execution"},"SourceInput":{"properties":{"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"Direct source code content","example":"#include <stdio.h>\nint main() { printf(\"Hello World!\"); return 0; }"},"url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Url","description":"URL to fetch source code from","example":"https://example.com/source.c"},"filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename","description":"Original filename (helps determine language)","example":"hello.c"}},"type":"object","title":"SourceInput","description":"Source code input specification"},"TaskMetrics":{"properties":{"compilation_time_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Compilation Time Ms","description":"Compilation time in milliseconds"},"execution_time_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Execution Time Ms","description":"Execution time in milliseconds"},"memory_usage_mb":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Memory Usage Mb","description":"Peak memory usage in MB"},"cpu_usage_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cpu Usage Percent","description":"Average CPU usage percentage"},"binary_size_bytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Binary Size Bytes","description":"Compiled binary size in bytes"},"optimization_savings":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Optimization Savings","description":"Optimization statistics"}},"type":"object","title":"TaskMetrics","description":"Performance and compilation metrics"},"TaskResult":{"properties":{"output_files":{"items":{"type":"string"},"type":"array","title":"Output Files","description":"Generated output files","default":[]},"stdout":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stdout","description":"Standard output from compilation/execution"},"stderr":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stderr","description":"Standard error output"},"metrics":{"anyOf":[{"$ref":"#/components/schemas/TaskMetrics"},{"type":"null"}],"description":"Performance metrics"},"profiling_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Profiling Data","description":"Detailed profiling information"},"artifacts":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Artifacts","description":"Additional artifacts (logs, dumps, etc.)"}},"type":"object","title":"TaskResult","description":"Task execution result"},"TaskStatus":{"type":"string","enum":["pending","running","completed","failed","cancelled"],"title":"TaskStatus","description":"Task execution status"},"TaskStatusResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"status":{"$ref":"#/components/schemas/TaskStatus"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"progress_percent":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Progress Percent"},"estimated_completion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Estimated Completion"},"result":{"anyOf":[{"$ref":"#/components/schemas/TaskResult"},{"type":"null"}]},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"}},"type":"object","required":["task_id","status","created_at","updated_at"],"title":"TaskStatusResponse","description":"Task status check response"},"TaskType":{"type":"string","enum":["optimize","profile"],"title":"TaskType","description":"Type of compiler task to perform"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}